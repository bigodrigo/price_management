<mvc:View 
    controllerName="pricemanagement.controller.RequestList"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.ui.layout.form"
    displayBlock="true"
    height="100%"
>

<!-- DynamicPage - Header ? -->
	<Page
        id="requestListPage"
        showFooter="true"
        title="Request List"
        titleAlignment="Center"
        showNavButton="true"
        navButtonPress=".onNavBack"
    >
		<content>
			<Table
				id="requestListTable"
                width="auto"
                items="{ 
                    path: '/RequestSet',
                    sorter: {
                        path: 'Id',
                        descending: false
                    },
                    parameters: {
                        expand: 'toPrice,toRequest'
                    }
                }"
                updateFinished=".onUpdateFinished"
            >
				<columns>
					<Column width="5rem">
                        <Text text="ID"/>
					</Column>

                    <Column width="5rem" hAlign="Center">
                        <Text text="Product Id"/>
					</Column>

					<Column width="5rem" hAlign="Center">
						<Text text="Request Date"/>
					</Column>

                    <Column width="5rem" hAlign="Center">
						<Text text="Request Time"/>
					</Column>

                    <Column width="5rem" hAlign="Center">
						<Text text="New Price"/>
					</Column>

                    <Column width="5rem" hAlign="Center">
						<Text text="Currency"/>
					</Column>
                             
                    <Column width="5rem" hAlign="Center">
						<Text text="Status"/>
					</Column>

                    <Column width="5rem" hAlign="Center">
						<Text text="Approver User"/>
					</Column>

                    <Column width="3rem" hAlign="Center">
                        <Text text="Delete" />
                    </Column>
				</columns>
                <items>
                    <ColumnListItem type="Active" press=".onRequestPress">
                        <cells>
                            <ObjectIdentifier title="{Id}" />

                            <Text text="{ProductId}" />

                            <Text text="{RequestDate}" />

                            <Text text="{RequestTime}" />

                            <Text text="{NewPrice}" />

                            <Text text="{Currency}" />

                            <Text text="{Status}" />

                            <Text text="{ApproverUser}" />

                            <Button 
                                icon="sap-icon://delete"
                                type="Transparent"
                                press=".onDeleteRequest"
                            />
                        </cells>
                    </ColumnListItem>
                </items>
			</Table>
		</content>

        <footer>
            <Toolbar class="padded-footer">
                <Button text="Product and Price List" press=".onProductAndPriceListButton"/>
                <Button text="Request List" press=".onRequestListButton"/>
                <ToolbarSpacer/>
                <Button text="Add New Request" press=".onAddRequest" type="Emphasized"/>
            </Toolbar>
        </footer>
	</Page>
</mvc:View>
